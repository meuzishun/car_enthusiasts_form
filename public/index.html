<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Luxury on the Move - Car Enthusiasts Form</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background: #f4f4f4;
        margin: 0;
        padding: 0;
      }
      #mc_embed_signup {
        background: #fff;
        font: 16px 'Segoe UI', Helvetica, Arial, sans-serif;
        max-width: 480px;
        margin: 2.5rem auto;
        border-radius: 18px;
        box-shadow: 0 6px 32px rgba(0, 0, 0, 0.1),
          0 1.5px 4px rgba(0, 0, 0, 0.06);
        padding: 2.5rem 2rem 2rem 2rem;
        box-sizing: border-box;
        width: 100%;
      }
      #mc_embed_signup h2 {
        font-size: 1.7rem;
        margin-bottom: 0.5rem;
        color: #1a1a1a;
        text-align: center;
        letter-spacing: 0.02em;
      }
      #mc_embed_signup .indicates-required {
        font-size: 0.95rem;
        color: #888;
        margin-bottom: 1.2rem;
        text-align: right;
      }
      #mc_embed_signup .asterisk {
        color: #e02424;
      }
      #mc_embed_signup .mc-field-group {
        margin-bottom: 1.2rem;
      }
      #mc_embed_signup label {
        display: block;
        font-weight: 500;
        margin-bottom: 0.3rem;
        color: #222;
      }
      #mc_embed_signup input[type='email'],
      #mc_embed_signup input[type='text'] {
        width: 100%;
        padding: 0.7rem 0.9rem;
        border: 1px solid #d1d5db;
        border-radius: 7px;
        font-size: 1rem;
        background: #f9fafb;
        transition: border 0.2s;
        box-sizing: border-box;
        margin: 0;
        display: block;
      }
      #mc_embed_signup input[type='email']:focus,
      #mc_embed_signup input[type='text']:focus {
        border-color: #0077ff;
        outline: none;
        background: #fff;
      }
      #mc_embed_signup input.button[type='submit'],
      #mc_embed_signup .button {
        display: block;
        margin: 1rem auto 0 auto;
        text-align: center;
        background: linear-gradient(90deg, #0077ff 0%, #00c6ff 100%);
        color: #fff;
        border: none;
        border-radius: 7px;
        padding: 0.95rem 2.2rem;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 0 2px 8px rgba(0, 119, 255, 0.08);
        transition: background 0.2s, transform 0.1s;
        width: 100%;
        max-width: 260px;
        line-height: 1.6;
        vertical-align: middle;
        height: auto;
      }
      #mc_embed_signup input.button[type='submit']:hover,
      #mc_embed_signup .button:hover {
        background: linear-gradient(90deg, #005fcc 0%, #0099cc 100%);
        transform: translateY(-2px) scale(1.03);
      }
      #mc_embed_signup_scroll {
        padding-bottom: 0.5rem;
      }
      #mc_embed_signup ul {
        margin: 1.5rem 0 0 0;
        padding-left: 0;
        color: #222;
        list-style: none;
      }
      @media (max-width: 600px) {
        #mc_embed_signup {
          margin-top: 0.25rem;
          margin-bottom: 0.25rem;
          padding: 1.2rem 1rem 1.5rem 1rem;
          max-width: 98vw;
          min-height: 98vh;
        }
        #mc_embed_signup input[type='email'],
        #mc_embed_signup input[type='text'] {
          font-size: 1rem;
          padding: 0.7rem 0.7rem;
        }
        #mc_embed_signup input.button[type='submit'],
        #mc_embed_signup .button {
          padding: 0.85rem 1.2rem;
          font-size: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <div id="mc_embed_shell">
      <div id="mc_embed_signup">
        <form
          id="mc-embedded-subscribe-form"
          name="mc-embedded-subscribe-form"
          class="validate"
          novalidate=""
        >
          <div id="mc_embed_signup_scroll">
            <h2>‚ú® Welcome to Luxury on the Move ‚ú®</h2>
            <p>
              An exclusive collaboration by Nautilus Architects and All Pro
              Automotive
            </p>
            <p>
              You're just one step away from unlocking something extraordinary.
            </p>
            <p>
              Enter your email to access our exclusive welcome message and view
              behind-the-scenes content, including a special event video
              celebrating the fusion of high design and high performance.
            </p>
            <p>üîê Unlock Access Now</p>
            <div class="indicates-required">
              <span class="asterisk">*</span> indicates required
            </div>
            <div class="mc-field-group">
              <label for="mce-EMAIL"
                >Email Address <span class="asterisk">*</span></label
              >
              <input
                type="email"
                name="email"
                class="required email"
                id="mce-EMAIL"
                required=""
                value=""
              />
            </div>
            <div class="mc-field-group">
              <label for="mce-FNAME">First Name </label>
              <input
                type="text"
                name="firstName"
                class="text"
                id="mce-FNAME"
                value=""
              />
            </div>
            <div class="mc-field-group">
              <label for="mce-LNAME">Last Name </label>
              <input
                type="text"
                name="lastName"
                class="text"
                id="mce-LNAME"
                value=""
              />
            </div>
            <div hidden="">
              <input type="hidden" name="tags" value="1959249" />
            </div>
            <div id="mce-responses" class="clear">
              <div
                class="response"
                id="mce-error-response"
                style="display: none"
              ></div>
              <div
                class="response"
                id="mce-success-response"
                style="display: none"
              ></div>
            </div>
            <div class="clear">
              <input
                type="submit"
                name="subscribe"
                id="mc-embedded-subscribe"
                class="button"
                value="Subscribe"
              />
            </div>
            <ul>
              <li>‚úî A personal welcome from the design team</li>
              <li>
                ‚úî A video tour showcasing the design inspiration behind Luxury
                on the Move
              </li>
              <li>
                ‚úî Early access to future design experiences and architectural
                insights from Nautilus Architects Where stunning homes meet
                supercars‚Äîthank you for joining us.
              </li>
            </ul>
          </div>
        </form>
      </div>
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        // Check for debug=true in URL params
        const params = new URLSearchParams(window.location.search);
        const isDebug = params.get('debug') === 'true';

        // Redirect if already subscribed (unless debug mode)
        const redirectUrl =
          'https://linktr.ee/nautilusarchitects1?ltsid=8499382f-5ebe-4a48-b2d3-cf2ac3e92946';
        if (
          !isDebug &&
          localStorage.getItem('nautilus_subscribed') === 'true'
        ) {
          window.location.href = redirectUrl;
          return;
        }

        const form = document.getElementById('mc-embedded-subscribe-form');
        const errorDiv = document.getElementById('mce-error-response');
        const successDiv = document.getElementById('mce-success-response');

        form.addEventListener('submit', async function (e) {
          e.preventDefault();

          errorDiv && (errorDiv.style.display = 'none');
          successDiv && (successDiv.style.display = 'none');

          const formData = new FormData(form);
          const data = {
            email: formData.get('email'),
            firstName: formData.get('firstName'),
            lastName: formData.get('lastName'),
          };

          try {
            const response = await fetch('/subscribe', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify(data),
            });

            const result = await response.json();

            if (result.success && result.redirectUrl) {
              // Set flag in localStorage
              localStorage.setItem('nautilus_subscribed', 'true');
              if (!isDebug) {
                window.location.href = result.redirectUrl;
              }
            } else {
              errorDiv.textContent = 'Something went wrong. Please try again.';
              errorDiv.style.display = 'block';
            }
          } catch (err) {
            errorDiv.textContent = 'Network error. Please try again.';
            errorDiv.style.display = 'block';
          }
        });
      });
    </script>
  </body>
</html>
